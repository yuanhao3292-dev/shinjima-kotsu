/**
 * 繁体中文 → 简体中文 字符转换工具
 * 用于将数据库中的繁体中文内容自动转换为简体中文显示
 */

const t2sMap: Record<string, string> = {
  '體': '体', '檢': '检', '會': '会', '務': '务', '際': '际',
  '門': '门', '爾': '尔', '夥': '伙', '導': '导', '遊': '游', '簡': '简',
  '員': '员', '報': '报', '價': '价', '預': '预', '見': '见', '時': '时',
  '課': '课', '術': '术', '療': '疗', '醫': '医', '藥': '药', '險': '险',
  '細': '细', '處': '处', '進': '进', '產': '产', '業': '业', '專': '专',
  '團': '团', '開': '开', '關': '关', '請': '请', '過': '过', '選': '选',
  '還': '还', '這': '这', '裡': '里', '麼': '么', '後': '后', '對': '对',
  '當': '当', '號': '号', '學': '学', '實': '实', '發': '发', '設': '设',
  '計': '计', '認': '认', '識': '识', '車': '车', '輛': '辆', '運': '运',
  '動': '动', '場': '场', '電': '电', '話': '话', '訊': '讯', '機': '机',
  '區': '区', '準': '准', '標': '标', '達': '达', '遠': '远', '東': '东',
  '廣': '广', '萬': '万', '億': '亿', '歲': '岁', '個': '个', '條': '条',
  '間': '间', '問': '问', '題': '题', '頁': '页', '頭': '头', '腦': '脑',
  '臉': '脸', '飛': '飞', '風': '风', '氣': '气', '師': '师', '隊': '队',
  '層': '层', '據': '据', '點': '点', '線': '线', '經': '经', '總': '总',
  '結': '结', '給': '给', '統': '统', '類': '类', '級': '级', '組': '组',
  '紅': '红', '綠': '绿', '藍': '蓝', '黃': '黄', '灣': '湾', '島': '岛',
  '華': '华', '國': '国', '語': '语', '說': '说', '讀': '读',
  '書': '书', '寫': '写', '畫': '画', '圖': '图', '長': '长', '無': '无',
  '從': '从', '來': '来', '質': '质', '節': '节', '單': '单',
  '雙': '双', '裝': '装', '農': '农', '鄉': '乡', '縣': '县', '鎮': '镇',
  '樓': '楼', '廳': '厅', '館': '馆', '觀': '观',
  '覽': '览', '園': '园', '廠': '厂', '礦': '矿', '銀': '银', '錢': '钱',
  '貨': '货', '買': '买', '賣': '卖', '貴': '贵', '賓': '宾', '參': '参',
  '訪': '访', '聯': '联', '絡': '络', '網': '网', '傳': '传',
  '輸': '输', '郵': '邮', '環': '环', '護': '护',
  '衛': '卫', '養': '养', '飲': '饮',
  '魚': '鱼', '鳥': '鸟', '雞': '鸡', '鴨': '鸭', '龍': '龙', '馬': '马', '驗': '验',
  '證': '证', '辦': '办', '執': '执', '營': '营', '貿': '贸', '財': '财',
  '稅': '税', '費': '费', '補': '补', '償': '偿', '賠': '赔', '擔': '担',
  '監': '监', '審': '审', '詢': '询', '諮': '咨', '顧': '顾', '議': '议',
  '論': '论', '評': '评', '測': '测', '試': '试', '調': '调',
  '創': '创', '構': '构', '築': '筑', '維': '维',
  '優': '优', '勝': '胜', '負': '负', '贏': '赢',
  '競': '竞', '爭': '争', '協': '协', '約': '约', '則': '则', '規': '规',
  '範': '范', '義': '义', '權': '权',
  '決': '决', '許': '许',
  '訂': '订', '購': '购', '銷': '销', '儲': '储', '積': '积',
  '備': '备', '領': '领', '帶': '带',
  '屆': '届', '圍': '围', '歷': '历',
  '齡': '龄', '齊': '齐', '齒': '齿',
  '臟': '脏', '腸': '肠', '膽': '胆', '傷': '伤',
  '劑': '剂', '針': '针', '脈': '脉', '診': '诊', '斷': '断',
  '愛': '爱', '親': '亲', '樂': '乐', '禮': '礼',
  '壽': '寿', '慶': '庆', '獎': '奖', '賞': '赏', '讚': '赞',
  '驚': '惊', '懷': '怀', '憶': '忆',
  '顯': '显', '隱': '隐',
  '寶': '宝', '貝': '贝', '鑽': '钻',
  '鏡': '镜', '攝': '摄', '錄': '录',
  '視': '视', '聽': '听', '播': '播',
  '極': '极', '盡': '尽', '滿': '满', '漸': '渐', '僅': '仅',
  '適': '适', '豐': '丰', '榮': '荣', '譽': '誉',
  '興': '兴', '敗': '败', '績': '绩',
  '靈': '灵', '響': '响', '頻': '频', '譯': '译', '釋': '释',
  '閱': '阅', '複': '复', '製': '制', '雜': '杂',
  '縮': '缩', '張': '张', '編': '编',
  '碼': '码', '軟': '软', '檔': '档',
  '資': '资', '庫': '库', '盤': '盘',
  '鍵': '键', '幾': '几',
  '駕': '驾', '駛': '驶', '輪': '轮', '艙': '舱',
  '陸': '陆', '橋': '桥',
  '堅': '坚', '鋼': '钢',
  '鐵': '铁', '銅': '铜',
  '壓': '压', '儀': '仪',
  '濕': '湿', '溫': '温', '熱': '热', '凍': '冻',
  '應': '应', '該': '该', '讓': '让',
  '變': '变', '屬': '属',
  '獲': '获', '穩': '稳',
  '筆': '笔', '籌': '筹', '籃': '篮',
  '籠': '笼', '籤': '签',
  '練': '练', '緊': '紧', '縫': '缝',
  '繩': '绳', '繪': '绘', '繳': '缴', '繼': '继', '續': '续', '纖': '纤',
  '納': '纳', '紐': '纽', '純': '纯', '紙': '纸',
  '紋': '纹', '紡': '纺', '終': '终',
  '紮': '扎', '絕': '绝', '絲': '丝', '綁': '绑',
  '綢': '绸', '緩': '缓',
  '緣': '缘', '織': '织',
  '繡': '绣', '繞': '绕', '纏': '缠', '紀': '纪',
  '頂': '顶', '項': '项', '須': '须',
  '頓': '顿', '顆': '颗', '額': '额',
  '顏': '颜', '願': '愿',
  '飄': '飘', '飢': '饥', '飯': '饭', '飼': '饲', '飾': '饰',
  '餃': '饺', '餅': '饼', '餐': '餐',
  '駐': '驻', '騎': '骑', '騙': '骗', '騰': '腾', '驅': '驱',
  '髮': '发', '鬆': '松', '鬥': '斗',
  '鬧': '闹', '鬱': '郁', '鮮': '鲜',
  '鰻': '鳗', '鳳': '凤', '鳴': '鸣',
  '鹹': '咸', '麵': '面', '黨': '党',
  '麗': '丽', '離': '离', '難': '难',
  '為': '为', '臺': '台', '與': '与',
  '遼': '辽', '臨': '临', '擊': '击',
  '擋': '挡', '擠': '挤', '擬': '拟', '擾': '扰',
  '攜': '携', '攤': '摊',
  '儘': '尽', '嘗': '尝', '諧': '谐', '誕': '诞',
  '誇': '夸', '諾': '诺', '誘': '诱', '謙': '谦',
  '謹': '谨', '謊': '谎', '謎': '谜', '謀': '谋',
  '濤': '涛', '兩': '两', '啟': '启', '倆': '俩',
  '將': '将', '態': '态', '戰': '战', '戲': '戏', '戶': '户',
  '數': '数', '樣': '样', '歐': '欧',
  '歡': '欢', '歸': '归', '殘': '残',
  '減': '减', '滅': '灭',
  '漁': '渔', '潔': '洁',
  '濃': '浓', '災': '灾', '燈': '灯',
  '獨': '独', '現': '现',
  '異': '异', '確': '确',
  '種': '种', '穀': '谷',
  '窮': '穷',
  '陣': '阵', '陰': '阴', '陽': '阳',
  '階': '阶', '隔': '隔', '障': '障',
  '雄': '雄', '靜': '静',
  '順': '顺', '頑': '顽',
  '飽': '饱', '餘': '余',
  '閃': '闪', '閒': '闲', '閣': '阁',
  '闡': '阐', '陳': '陈',
  '霧': '雾',
  '軍': '军', '載': '载', '較': '较', '輔': '辅', '輕': '轻',
  '輝': '辉', '轉': '转',
  '連': '连', '週': '周', '遺': '遗', '邊': '边',
  '鄰': '邻', '鋒': '锋',
  '錦': '锦', '鍋': '锅', '鎖': '锁',
  '鏈': '链', '鐘': '钟', '鑄': '铸',
  '聖': '圣', '聞': '闻', '聰': '聪', '職': '职',
  '舊': '旧', '艷': '艳',
  '莊': '庄', '萊': '莱', '葉': '叶',
  '蓋': '盖', '蘇': '苏', '蘋': '苹',
  '蘭': '兰', '虛': '虚',
  '衝': '冲',
  '覺': '觉',
  '記': '记', '訓': '训',
  '詩': '诗', '詳': '详',
  '誌': '志', '誠': '诚', '誤': '误',
  '談': '谈', '講': '讲', '謝': '谢',
  '贈': '赠', '貢': '贡',
  '責': '责', '賀': '贺',
  '賢': '贤', '賺': '赚', '賽': '赛',
  '躍': '跃', '軌': '轨',
  '遷': '迁', '遲': '迟',
  '獻': '献', '徵': '征', '復': '复',
  '聲': '声', '勵': '励',
  '圓': '圆', '塊': '块', '夢': '梦', '奪': '夺',
  '奮': '奋', '寬': '宽',
  '幣': '币', '廢': '废',
  '彈': '弹', '彎': '弯',
  '憲': '宪', '懼': '惧', '懸': '悬', '戀': '恋',
  '敵': '敌',
  '暫': '暂', '曉': '晓',
  '樸': '朴',
  '殼': '壳', '毀': '毁',
  '沒': '没', '況': '况', '淚': '泪',
  '溝': '沟', '滯': '滞', '滾': '滚',
  '漲': '涨', '潑': '泼',
  '瀏': '浏', '灑': '洒',
  '爺': '爷', '獄': '狱',
  '畝': '亩', '畢': '毕',
  '皺': '皱', '盞': '盏',
  '眾': '众', '矚': '瞩',
  '禱': '祷',
  '窩': '窝',
  '糧': '粮', '綜': '综',
  '綱': '纲', '縱': '纵',
  '罰': '罚', '羅': '罗',
  '翹': '翘', '肅': '肃', '脅': '胁',
  '脹': '胀', '腎': '肾', '膠': '胶',
  '篩': '筛',
};

/**
 * 将繁体中文文本转换为简体中文
 */
export function traditionalToSimplified(text: string | null | undefined): string {
  if (!text) return '';
  let result = text;
  for (const [trad, simp] of Object.entries(t2sMap)) {
    result = result.replaceAll(trad, simp);
  }
  return result;
}

/**
 * 根据当前语言转换文本
 * - zh-CN: 繁体→简体
 * - 其他语言: 原样返回
 */
export function localizeText(text: string | null | undefined, locale: string): string {
  if (!text) return '';
  if (locale === 'zh-CN') {
    return traditionalToSimplified(text);
  }
  return text;
}
