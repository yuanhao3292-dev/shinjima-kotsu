// 修复简体中文翻译中遗漏的繁体字
const fs = require('fs');
const path = require('path');

// 补充遗漏的繁简对照
const additionalT2S = {
  // 遗漏的常用字
  '幹': '干', '擁': '拥', '隨': '随', '別': '别', '廂': '厢',
  '銳': '锐', '輻': '辐', '偵': '侦', '掃': '扫', '篩': '筛',
  '閉': '闭', '狀': '状', '內': '内', '強': '强', '並': '并',
  '貼': '贴', '暢': '畅', '螢': '荧', '們': '们', '雜': '杂',
  '訊': '讯', '斷': '断', '層': '层', '僅': '仅', '據': '据',
  '爾': '尔', '兌': '兑', '兒': '儿', '億': '亿', '價': '价',
  '價': '价', '倉': '仓', '個': '个', '倆': '俩', '們': '们',
  '倫': '伦', '傑': '杰', '傘': '伞', '備': '备', '傳': '传',
  '僅': '仅', '僑': '侨', '僕': '仆', '億': '亿', '儀': '仪',
  '優': '优', '儲': '储', '兌': '兑', '兒': '儿', '養': '养',
  '冊': '册', '冑': '胄', '冪': '幂', '凈': '净', '凜': '凛',
  '凱': '凯', '別': '别', '剎': '刹', '則': '则', '剛': '刚',
  '創': '创', '劃': '划', '劇': '剧', '劉': '刘', '劍': '剑',
  '動': '动', '務': '务', '勛': '勋', '勝': '胜', '勞': '劳',
  '勢': '势', '勵': '励', '勸': '劝', '區': '区', '協': '协',
  '單': '单', '賣': '卖', '佔': '占', '廠': '厂', '廂': '厢',
  '廳': '厅', '參': '参', '叢': '丛', '吳': '吴', '員': '员',
  '響': '响', '嗎': '吗', '嘆': '叹', '嘗': '尝', '嚴': '严',
  '國': '国', '圍': '围', '園': '园', '圓': '圆', '團': '团',
  '圖': '图', '堅': '坚', '壓': '压', '壞': '坏', '墊': '垫',
  '墜': '坠', '壟': '垄', '壢': '坜', '夠': '够', '夢': '梦',
  '夾': '夹', '奪': '夺', '奮': '奋', '婦': '妇', '嬰': '婴',
  '學': '学', '寧': '宁', '寫': '写', '寬': '宽', '審': '审',
  '實': '实', '專': '专', '尋': '寻', '對': '对', '導': '导',
  '層': '层', '屆': '届', '屍': '尸', '屬': '属', '嶺': '岭',
  '嶼': '屿', '嶽': '岳', '帥': '帅', '師': '师', '幣': '币',
  '幫': '帮', '廠': '厂', '廢': '废', '廣': '广', '廬': '庐',
  '開': '开', '異': '异', '彈': '弹', '彌': '弥', '彎': '弯',
  '從': '从', '復': '复', '徵': '征', '態': '态', '憂': '忧',
  '憑': '凭', '憲': '宪', '懷': '怀', '懼': '惧', '懸': '悬',
  '戀': '恋', '戲': '戏', '戰': '战', '戶': '户', '捨': '舍',
  '據': '据', '損': '损', '擁': '拥', '擇': '择', '擊': '击',
  '擋': '挡', '擠': '挤', '擬': '拟', '攝': '摄', '攪': '搅',
  '攤': '摊', '攬': '揽', '敗': '败', '敵': '敌', '數': '数',
  '斷': '断', '於': '于', '時': '时', '晝': '昼', '暈': '晕',
  '暫': '暂', '曆': '历', '曉': '晓', '書': '书', '會': '会',
  '極': '极', '標': '标', '棲': '栖', '樂': '乐', '樓': '楼',
  '樣': '样', '機': '机', '檔': '档', '權': '权', '歐': '欧',
  '歡': '欢', '歲': '岁', '歸': '归', '歷': '历', '殘': '残',
  '殼': '壳', '毀': '毁', '氣': '气', '氫': '氢', '決': '决',
  '沒': '没', '況': '况', '淚': '泪', '淨': '净', '減': '减',
  '測': '测', '湧': '涌', '準': '准', '溝': '沟', '溫': '温',
  '滅': '灭', '滯': '滞', '滿': '满', '漁': '渔', '漲': '涨',
  '潔': '洁', '濃': '浓', '濕': '湿', '濟': '济', '濤': '涛',
  '瀏': '浏', '瀾': '澜', '灣': '湾', '災': '灾', '燈': '灯',
  '營': '营', '爺': '爷', '牆': '墙', '獄': '狱', '獎': '奖',
  '獨': '独', '獲': '获', '環': '环', '現': '现', '產': '产',
  '異': '异', '當': '当', '癥': '症', '發': '发', '盡': '尽',
  '監': '监', '盧': '卢', '眾': '众', '確': '确', '碼': '码',
  '礎': '础', '禮': '礼', '種': '种', '稅': '税', '穩': '稳',
  '窮': '穷', '競': '竞', '筆': '笔', '節': '节', '範': '范',
  '築': '筑', '簡': '简', '籠': '笼', '籤': '签', '糧': '粮',
  '紀': '纪', '約': '约', '紅': '红', '紙': '纸', '紐': '纽',
  '級': '级', '純': '纯', '納': '纳', '紡': '纺', '終': '终',
  '組': '组', '結': '结', '絕': '绝', '絡': '络', '給': '给',
  '絲': '丝', '經': '经', '統': '统', '綜': '综', '綠': '绿',
  '維': '维', '網': '网', '緊': '紧', '緣': '缘', '線': '线',
  '編': '编', '緩': '缓', '練': '练', '縣': '县', '縮': '缩',
  '縱': '纵', '總': '总', '績': '绩', '繡': '绣', '繞': '绕',
  '繪': '绘', '繳': '缴', '繼': '继', '續': '续', '纖': '纤',
  '罰': '罚', '羅': '罗', '翹': '翘', '聖': '圣', '聞': '闻',
  '聯': '联', '聰': '聪', '職': '职', '聽': '听', '肅': '肃',
  '脅': '胁', '脈': '脉', '脹': '胀', '腎': '肾', '腦': '脑',
  '膠': '胶', '膩': '腻', '臉': '脸', '臘': '腊', '臟': '脏',
  '臺': '台', '與': '与', '舊': '旧', '艙': '舱', '艦': '舰',
  '華': '华', '菸': '烟', '萊': '莱', '萬': '万', '葉': '叶',
  '蓋': '盖', '蔣': '蒋', '蔥': '葱', '蘆': '芦', '蘇': '苏',
  '蘊': '蕴', '蘋': '苹', '蘭': '兰', '虛': '虚', '蟻': '蚁',
  '蠟': '蜡', '術': '术', '衛': '卫', '衝': '冲', '補': '补',
  '裝': '装', '製': '制', '裡': '里', '複': '复', '褲': '裤',
  '見': '见', '規': '规', '視': '视', '覽': '览', '親': '亲',
  '觀': '观', '覺': '觉', '記': '记', '訂': '订', '計': '计',
  '訊': '讯', '討': '讨', '訓': '训', '診': '诊', '許': '许',
  '設': '设', '訪': '访', '詢': '询', '詩': '诗', '話': '话',
  '該': '该', '詳': '详', '認': '认', '誌': '志', '語': '语',
  '誠': '诚', '誤': '误', '說': '说', '課': '课', '調': '调',
  '談': '谈', '論': '论', '諮': '咨', '謂': '谓', '講': '讲',
  '謝': '谢', '證': '证', '識': '识', '譜': '谱', '譯': '译',
  '議': '议', '護': '护', '讀': '读', '變': '变', '讓': '让',
  '贊': '赞', '贈': '赠', '財': '财', '質': '质', '貢': '贡',
  '貨': '货', '販': '贩', '責': '责', '貴': '贵', '貸': '贷',
  '貿': '贸', '賀': '贺', '資': '资', '賜': '赐', '賞': '赏',
  '賣': '卖', '賠': '赔', '賢': '贤', '質': '质', '賴': '赖',
  '賺': '赚', '購': '购', '賽': '赛', '軍': '军', '軌': '轨',
  '軒': '轩', '軟': '软', '載': '载', '較': '较', '輔': '辅',
  '輕': '轻', '輛': '辆', '輝': '辉', '輩': '辈', '輪': '轮',
  '輸': '输', '轉': '转', '轎': '轿', '辦': '办', '農': '农',
  '這': '这', '連': '连', '週': '周', '進': '进', '運': '运',
  '過': '过', '達': '达', '選': '选', '遷': '迁', '遺': '遗',
  '還': '还', '邊': '边', '郵': '邮', '鄉': '乡', '鄭': '郑',
  '鄰': '邻', '醜': '丑', '醬': '酱', '醫': '医', '釋': '释',
  '鋒': '锋', '鋼': '钢', '錄': '录', '錢': '钱', '錦': '锦',
  '錫': '锡', '鍋': '锅', '鍵': '键', '鎖': '锁', '鎮': '镇',
  '鏈': '链', '鏡': '镜', '鐘': '钟', '鐵': '铁', '鑄': '铸',
  '鑽': '钻', '閃': '闪', '開': '开', '閒': '闲', '間': '间',
  '閣': '阁', '閥': '阀', '閱': '阅', '關': '关', '陣': '阵',
  '陰': '阴', '陳': '陈', '陸': '陆', '陽': '阳', '隊': '队',
  '階': '阶', '際': '际', '隔': '隔', '障': '障', '隱': '隐',
  '隸': '隶', '雙': '双', '雜': '杂', '雞': '鸡', '離': '离',
  '難': '难', '雲': '云', '電': '电', '霧': '雾', '靈': '灵',
  '靜': '静', '頁': '页', '頂': '顶', '順': '顺', '須': '须',
  '預': '预', '頓': '顿', '領': '领', '頭': '头', '頻': '频',
  '題': '题', '額': '额', '顏': '颜', '願': '愿', '類': '类',
  '顧': '顾', '顯': '显', '風': '风', '飄': '飘', '飛': '飞',
  '飢': '饥', '飯': '饭', '飲': '饮', '飼': '饲', '飽': '饱',
  '飾': '饰', '餃': '饺', '餅': '饼', '養': '养', '餘': '余',
  '館': '馆', '駁': '驳', '駐': '驻', '駕': '驾', '駛': '驶',
  '騎': '骑', '騙': '骗', '騰': '腾', '驅': '驱', '驗': '验',
  '驚': '惊', '髮': '发', '鬆': '松', '鬥': '斗', '鬧': '闹',
  '鬱': '郁', '鮮': '鲜', '鯉': '鲤', '鯊': '鲨', '鰻': '鳗',
  '鳳': '凤', '鳴': '鸣', '鴻': '鸿', '鵝': '鹅', '鷹': '鹰',
  '鹹': '咸', '麗': '丽', '麵': '面', '麼': '么', '黃': '黄',
  '黨': '党', '齊': '齐', '齒': '齿', '齡': '龄', '龍': '龙',
  '龐': '庞', '龜': '龟', '為': '为', '適': '适', '遼': '辽',
  '臨': '临', '釀': '酿', '攏': '拢', '應': '应', '懸': '悬',
  '藝': '艺', '藥': '药', '藏': '藏', '藍': '蓝', '蕩': '荡',
  '薦': '荐', '薪': '薪', '薩': '萨', '藩': '藩', '藝': '艺',
  '蘊': '蕴', '癒': '愈', '療': '疗', '癌': '癌', '盤': '盘',
  '繫': '系', '繭': '茧', '繩': '绳', '繼': '继', '纍': '累',
  '紮': '扎', '紓': '纾', '紘': '纮', '紜': '纭', '紝': '纴',
  '納': '纳', '紛': '纷', '紜': '纭', '紝': '纴', '紗': '纱',
  '紋': '纹', '紊': '紊', '紕': '纰', '紛': '纷', '紜': '纭',
  '紝': '纴', '紡': '纺', '紆': '纡', '細': '细', '紲': '绁',
  '紳': '绅', '紮': '扎', '累': '累', '細': '细', '紹': '绍',
  '絀': '绌', '終': '终', '組': '组', '絃': '弦', '結': '结',
  '絆': '绊', '絊': '绁', '絏': '绁', '給': '给', '絛': '绦',
  '絝': '绔', '絡': '络', '絢': '绚', '絣': '绷', '統': '统',
  '絨': '绒', '絮': '絮', '絲': '丝', '絳': '绛', '絵': '绘',
  '絶': '绝', '經': '经', '絹': '绢', '綁': '绑', '綃': '绡',
  '綆': '绠', '綈': '绨', '綏': '绥', '綐': '绨', '綑': '捆',
  '經': '经', '綜': '综', '綞': '缍', '綢': '绸', '綣': '绻',
  '綫': '线', '綬': '绶', '綯': '绹', '維': '维', '綱': '纲',
  '網': '网', '綴': '缀', '綵': '彩', '綸': '纶', '綹': '绺',
  '綺': '绮', '綻': '绽', '綽': '绰', '綾': '绫', '綿': '绵',
  '緄': '绲', '緇': '缁', '緊': '紧', '緋': '绯', '緒': '绪',
  '緘': '缄', '緝': '缉', '緞': '缎', '緡': '缗', '締': '缔',
  '緣': '缘', '緦': '缌', '編': '编', '緩': '缓', '緬': '缅',
  '緯': '纬', '緱': '缑', '緲': '缈', '緶': '缏', '練': '练',
  '緹': '缇', '緻': '致', '縈': '萦', '縉': '缙', '縊': '缢',
  '縕': '缊', '縗': '缞', '縛': '缚', '縝': '缜', '縞': '缟',
  '縣': '县', '縫': '缝', '縮': '缩', '縱': '纵', '縲': '缧',
  '縴': '纤', '縵': '缦', '縷': '缕', '縹': '缥', '總': '总',
  '績': '绩', '繃': '绷', '繅': '缫', '繆': '缪', '繇': '繇',
  '繈': '襁', '繋': '系', '繒': '缯', '織': '织', '繕': '缮',
  '繚': '缭', '繞': '绕', '繡': '绣', '繢': '缋', '繩': '绳',
  '繪': '绘', '繫': '系', '繭': '茧', '繯': '缳', '繰': '缲',
  '繳': '缴', '繹': '绎', '繻': '繻', '繼': '继', '繽': '缤',
  '繾': '缱', '繿': '缲', '纂': '纂', '纈': '缬', '續': '续',
  '纊': '纩', '纍': '累', '纏': '缠', '纓': '缨', '纔': '才',
  '纖': '纤', '纘': '缵', '纜': '缆', '羆': '罴', '羈': '羁',
  '羋': '芈', '羣': '群', '羨': '羡', '義': '义', '羶': '膻',
  '習': '习', '翹': '翘', '翺': '翱', '翽': '翙', '翾': '翾',
  '耬': '耧', '聯': '联', '聰': '聪', '聲': '声', '聳': '耸',
  '聵': '聩', '聯': '联', '聶': '聂', '職': '职', '聽': '听',
  '聾': '聋', '肅': '肃', '肆': '肆', '脅': '胁', '脈': '脉',
  '腎': '肾', '腡': '脔', '腦': '脑', '膃': '腽', '膠': '胶',
  '膢': '膔', '膩': '腻', '膽': '胆', '臉': '脸', '臍': '脐',
  '臏': '膑', '臘': '腊', '臚': '胪', '臟': '脏', '臠': '脔'
};

// 读取文件
const translationsPath = path.join(__dirname, '..', 'translations.ts');
let content = fs.readFileSync(translationsPath, 'utf8');

// 找到 zh-CN 部分的范围
const zhCNStart = content.indexOf("  'zh-CN': {");
const enStart = content.indexOf("  en: {");

if (zhCNStart === -1 || enStart === -1) {
  console.error('无法找到 zh-CN 或 en 部分');
  process.exit(1);
}

// 提取 zh-CN 部分
let zhCNSection = content.substring(zhCNStart, enStart);

// 替换所有遗漏的繁体字
for (const [trad, simp] of Object.entries(additionalT2S)) {
  zhCNSection = zhCNSection.split(trad).join(simp);
}

// 重建文件内容
const newContent = content.substring(0, zhCNStart) + zhCNSection + content.substring(enStart);

// 写入文件
fs.writeFileSync(translationsPath, newContent, 'utf8');

console.log('✓ 简体中文翻译已修复');

// 检查是否还有遗漏
const remainingTrad = zhCNSection.match(/[繁體簡國會員報價預見時課術療醫藥險細處進產業專團開關請過選還這裡麼後對當號學實發設計認識車輛運動場電話訊機區準標達遠東廣萬億歲個條間問題頁頭腦臉飛風氣師隊層據點線經總結給統類級組紅綠藍黃灣島華國語說話讀書寫畫圖長無從來員質節單雙裝農鄉縣鎮區號樓廳館觀覽園廠礦銀錢貨買賣貴賓參訪聯繫絡網傳輸郵寄環境護衛養飲餐舖廚燒烤煮蒸炸魚鳥雞鴨龍馬驗證辦執營貿財稅費補償賠擔監審詢諮顧議論評測試調研創構築設維護優惠勝負輸贏競爭協約則規範辦職責義權決議論則審許訂購銷貯儲積備預領帶際網絡屆層範圍歷曆齡齊齒龜臟腸膽藏傷療癥瘤痛藥劑麻醉針灸穴脈診斷愛戀親樂禮福壽慶獎賞讚嘆歎嘆驚訝懷憶憂慮顯隱藏祕祕寶貝價鑽珠錶鏡攝影錄像電視聽廣播樂極盡滿漸進僅適衡豐盛榮譽興衰敗績效績靈響頻譯釋義閱覽複製複雜繁簡縮擴張編輯碼訊軟硬檔資訊據庫盤碟鍵鼠幕幾馬騎駕駛輪艙艦艇際陸橋壩塔樓築構堅瓦磚鋼鐵銅鋁鋅鉛錫煤礦產鑽採礦層壓煉熔鑄鍛焊鉚機械儀器設備裝置軟硬線纜管閥泵壓縮濾淨消毒殺滅燃燒爐窯烘乾濕溫熱冷凍涼暖燙嬌賈買辭職應該讓譯議護識變齣齧齲屍屆屬嶼嶽獲穫穌穢穩穰竄竅竇竊竈競筆築簞籌籃籐籠籤籬粵糝糞糧糰練緊縣縫繩繪繳繼續纖納紐純紗紙級紋紡索組紮終結絕紫絲經綁綠維綢網緩編緣緻縛縮績繁織繡繞繩繪繳繼纏纍紀約紅]/g);
if (remainingTrad && remainingTrad.length > 0) {
  const uniqueChars = [...new Set(remainingTrad)];
  console.log(`⚠ 仍有 ${uniqueChars.length} 个可能的繁体字:`, uniqueChars.join(''));
}
